(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,a){e.exports=a(76)},41:function(e,t,a){},43:function(e,t,a){},68:function(e,t){},71:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(33),c=a.n(o),s=a(78),l=a(80),m=a(79),i=(a(41),a(12)),u=a(13),h=a(9),p=a(14),d=a(16),g=(a(43),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={selectingName:!1,useThisUsernameForever:!1,creatingPrivateRoom:!1,enteringPrivateRoom:!1,name:localStorage.getItem("username")||"",privateRoomName:""},a.startPlay=function(){if("true"===localStorage.getItem("useThisUsernameForever"))return a.props.history.push("/game");a.setState({selectingName:!0})},a.onChangeName=function(e){var t=e.target.value;a.setState({name:t})},a.onChangeRoomName=function(e){var t=e.target.value;a.setState({privateRoomName:t})},a.onChangeCheckbox=function(e){var t=e.target.checked;a.setState({useThisUsernameForever:t})},a.onSubmitName=function(e){e.preventDefault();var t=a.state,n=t.name,r=t.useThisUsernameForever,o=t.creatingPrivateRoom,c=t.enteringPrivateRoom;if(n.replace(" ","")){if(localStorage.setItem("username",n),localStorage.setItem("useThisUsernameForever",r),!o&&!c)return a.props.history.push("/game");a.setState({selectingName:!1})}},a.onSubmitRoomName=function(e){e.preventDefault();var t=a.state,n=t.privateRoomName,r=t.enteringPrivateRoom;n.replace(" ","")&&(r?a.props.history.push("/game/?room=".concat(n)):a.props.history.push("/game/?creating&room=".concat(n)))},a.createRoom=function(){a.setState({creatingPrivateRoom:!0,selectingName:!0})},a.enterRoom=function(){a.setState({enteringPrivateRoom:!0,selectingName:!0})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.startPlay,t=this.onChangeName,a=this.onChangeRoomName,n=this.onChangeCheckbox,o=this.onSubmitName,c=this.onSubmitRoomName,s=this.createRoom,l=this.enterRoom,m=this.state,i=m.selectingName,u=m.name,h=m.useThisUsernameForever,p=m.creatingPrivateRoom,d=m.privateRoomName,g=m.enteringPrivateRoom;return r.a.createElement("div",{className:"startScreen-imageBackground"},r.a.createElement("div",{className:"startScreen"},r.a.createElement("h1",null,"GeoBattle!"),i||p||g?null:r.a.createElement("div",{className:"startScreen-menu"},r.a.createElement("span",{onClick:e},"Jogar com um Jogador Aleat\xf3rio"),r.a.createElement("span",{onClick:s},"Criar Sala"),r.a.createElement("span",{onClick:l},"Entrar em uma Sala")),i?r.a.createElement("div",{className:"startScreen-selectName"},r.a.createElement("span",null,"Escreva um Nome ou Apelido para Jogar"),r.a.createElement("form",{onSubmit:o},r.a.createElement("input",{type:"text",placeholder:"Nome ou Apelido",onChange:t,value:u}),u.replace(" ","")?r.a.createElement("div",{className:"startScreen-checkboxContainer"},r.a.createElement("input",{type:"checkbox",onChange:n,checked:h}),r.a.createElement("span",{className:h?"startScreen-checkboxChecked":""}," Usar esse Nome Sempre ")):null,u.replace(" ","")?r.a.createElement("button",null,"Continuar"):null)):null,i||!p&&!g?null:r.a.createElement("div",{className:"startScreen-createPrivateRoom"},r.a.createElement("span",null,"Escreva o Nome da Sala"),r.a.createElement("form",{onSubmit:c},r.a.createElement("input",{type:"text",placeholder:"Nome da Sala",onChange:a,value:d}),d.replace(" ","")?r.a.createElement("button",null,"Continuar"):null))))}}]),t}(n.Component)),v=a(34),w=a.n(v),S=(a(71),function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).socket=w()("http://".concat(window.location.hostname,":8080/")),a.state={waitingStart:!0,started:!1,answered:!1,oponentAnswered:!1,gameEnded:!1,answerSelected:"",correctAnswer:"",player:{username:localStorage.getItem("username"),hits:0},anotherPlayer:{},question:{}},a.onAnswerClick=function(e){a.state.answered||(a.setState({answered:!0,answerSelected:e}),a.socket.emit("answer",e))},a.backToMenu=function(){a.props.history.push("/")};var n=localStorage.getItem("username");if(!n)return Object(h.a)(a,a.props.history.push("/"));if(window.location.search){var r=2===window.location.search.split("creating").length,o=window.location.search.split("room=")[1];r?a.socket.emit("createRoom",{username:n,roomName:o}):a.socket.emit("enterTheRoom",{username:n,roomName:o})}else a.socket.emit("startRandomGame",n);return a.socket.on("errorOccorred",function(e){alert(e.message),a.props.history.push("/")}),a.socket.on("anotherPlayerDisconnected",function(){alert("O outro jogador Desconectou"),a.props.history.push("/")}),a.socket.on("createdRoom",function(){return a.setState({waitingStart:!0})}),a.socket.on("startGame",function(e){return a.setState({waitingStart:!1,anotherPlayer:{name:e.name,hits:0}})}),a.socket.on("questionStart",function(e){a.state.started||a.setState({question:e,oponentAnswered:!1,answered:!1,started:!0,answerSelected:"",correctAnswer:""}),setTimeout(function(){a.setState({question:e,oponentAnswered:!1,answered:!1,answerSelected:"",correctAnswer:""})},3e3)}),a.socket.on("oponentAnswer",function(){return a.setState({oponentAnswered:!0})}),a.socket.on("bothAnswer",function(e){return a.setState({correctAnswer:e.correctAnswer,player:e.player,anotherPlayer:e.anotherPlayer})}),a.socket.on("endGame",function(e){return a.setState({gameEnded:!0,player:e.player,anotherPlayer:e.anotherPlayer})}),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.waitingStart,a=e.question,n=e.anotherPlayer,o=e.player,c=e.answerSelected,s=e.correctAnswer,l=e.oponentAnswered,m=e.gameEnded,i=this.onAnswerClick,u=this.backToMenu;return r.a.createElement("div",{className:"game"},t?r.a.createElement("span",{className:"game-waiting"},"Esperando Outro Player.."):null,a.title&&!m?r.a.createElement("div",{className:"game-question"},r.a.createElement("div",{className:"game-anotherPlayer"},r.a.createElement("span",{className:"game-anotherPlayerName"}," ",n.name," "),r.a.createElement("span",null," ",1===n.hits?"1 Acertos":"".concat(n.hits," Acertos")," ")),r.a.createElement("div",{className:"game-player"},r.a.createElement("span",{className:"game-playerYou"},"Voc\xea"),r.a.createElement("span",null," ",1===o.hits?"1 Acertos":"".concat(o.hits," Acertos")," ")),r.a.createElement("h2",null," ",a.title," "),a.answers.map(function(e){return r.a.createElement("button",{key:e,className:s===e?"correctAnswer":c===e?"answerSelected":"",onClick:function(){return i(e)}}," ",e," ")}),l?r.a.createElement("span",{className:"oponentAnswered"}," ",n.name," j\xe1 respondeu! "):null):null,m?r.a.createElement("div",{className:"game-ended"},r.a.createElement("h1",null,"Fim da Rodada"),r.a.createElement("h2",null,o.hits>n.hits?"Voc\xea ganhou de ".concat(n.name):o.hits<n.hits?"Voc\xea perdeu de ".concat(n.name):"Voc\xea empatou com ".concat(n.name)),r.a.createElement("button",{onClick:u},"Voltar ao Menu")):null)}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(s.a,null,r.a.createElement(l.a,null,r.a.createElement(m.a,{component:g,path:"/",exact:!0}),r.a.createElement(m.a,{component:S,path:"/game",exact:!0}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,2,1]]]);
//# sourceMappingURL=main.394dfc6c.chunk.js.map